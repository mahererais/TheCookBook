{% extends 'Front/front_base.html.twig' %}

{% block title %}Page d'accueil
{% endblock %}

{% block body %}

	<h1 class="page_title">
		Bienvenue sur The CookBook !
	</h1>

	{% for category, recipes in categoryRecipes %}
	{# =if no recipes in a category#}
		{% if recipes is not empty %}
			<div class="cards">

				<div class="cards_carrousel_container">
					<div class="cards_carrousel">
						{% for recipe in recipes %}
							<div class="cards_container">
								<img src="{{ recipe.getPicture() }}" alt="{{ recipe.title() }}">
								<div class="cards_content">
									<h2>{{ recipe.title() }}</h2>
									<p>proposée par
										<a href="{{ path('tcb_front_user_show', { 'slug' : recipe.user.slug}) }}">{{recipe.user.firstname}}
											{{recipe.user.lastname}}</a>
									</p>
									<h3>Ingrédients :</h3>
									<ul>
										{% for ingredient in recipe.ingredients|slice(0, 2) %}
											<li>{{ ingredient }}</li>
										{% endfor %}
									</ul>


									<h3>Préparation:</h3>
									<p class="card_presentation">

										<li>{{ recipe.steps|first|slice(0, 50) }}</li>

									</p>

									<div
										class="card_btn">

										{# inclusion of the toogle button to switch to favorite recipe  #}
										{% include "Front/fragments/_toggle_favorite_button.html.twig" %}

										<a class="tcb_btn" href="{{ path('tcb_front_recipe_show', { 'slug' : recipe.slug}) }}">Voir la recette</a>
									</div>
								</div>
							</div>
						{% endfor %}
					</div>
				</div>

			<a class="tcb_btn_caroussel tcb_btn_caroussel_left">
				<i class="fas fa-arrow-up"></i>
			</a>
			<a class="tcb_btn_caroussel tcb_btn_caroussel_right">
				<i class="fas fa-arrow-up"></i>
			</a>
			<div class="card_title">
				<a href="{{path('tcb_front_category_show', { 'slug' : recipes[0].category.slug}) }}">{{ category }} </a>
				<p style="font-size:0.6em;"><a href="{{path('tcb_front_category_show', { 'slug' : recipes[0].category.slug}) }}">Voir tout >></a></p>
			</div>
		{% endif %}
	{% endfor %}

{% endblock %}

