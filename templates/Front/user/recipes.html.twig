{% extends 'Front/user/profile.html.twig' %}


{% block content %}


	<div>
		<h1 class="text-center mb-4">Mes recettes :</h1>

		<div class="profile_recipes_container">
			{% for recipe in user.recipes|sort((a, b) => b.createdAt <=> a.createdAt) %}
				<div class="tcb_card">
					<a href="{{ path('tcb_front_recipe_show', { 'slug' : recipe.slug}) }}">
						<img src="{{recipe.picture}}">
					</a>

					<h5>{{ recipe.title }}</h5>

					<div class="card_icons">
						{# = icons récupérés  https://fontawesome.com/v5/search?m=free #}
						<a class="tcb_btn tcb_fa_icon" href="{{ path('tcb_front_recipe_show', { 'slug' : recipe.slug}) }}">
							<i class="fas fa-eye"></i>
						</a>

						<a class="tcb_btn tcb_fa_icon" href="{{path('tcb_front_main_pdf', { 'id' : recipe.id}) }}">
							<i class="fas fa-file-pdf"></i>
						</a>

						<a class="tcb_btn tcb_fa_icon" href="{{path('tcb_front_recipe_update', { 'slug' : recipe.slug})}}">
							<i class="fas fa-edit"></i>
						</a>

						<a class="tcb_btn tcb_fa_icon tcb_delete_color" onclick="return confirm('Voulez vous supprimer ?')" href="{{path('tcb_front_recipe_delete', { 'slug' : recipe.slug})}}">
							<i class="fas fa-trash-alt"></i>
						</a>

					</div>


				</div>
			{% endfor %}
		</div>

	</div>

	{# <div class="d-flex p-2 flex-column flex-lg-row">
					
							<section>
								<h2>Mes recettes :</h2>
					
								<div class="table-responsive">
									<table class="table table-striped">
										<thead>
											<tr>
												<th>Titre</th>
												<th>Catégorie</th>
												<th>Image</th>
												<th>Temps de préparation</th>
												<th>Date de publication</th>
											</tr>
										</thead>
										<tbody>
											{% for recipe in user.recipes|sort((a, b) => b.createdAt <=> a.createdAt) %}
												<tr>
													<td>{{ recipe.title }}</td>
													<td>{{ recipe.category.title }}</td>
													<td><img src="{{ recipe.picture }}" alt="{{ recipe.title }}" class="img-thumbnail"></td>
													<td>{{ recipe.duration }}
														mn</td>
													<td>{{ recipe.createdAt|date("d/m/Y") }}</td>
													<td>
														<a href="{{ path('tcb_front_recipe_show', { 'slug' : recipe.slug}) }}">
															<i class="bi bi-eye btn btn-warning"></i>
														</a>
														<a href="{{path('tcb_front_main_pdf', { 'id' : recipe.id}) }}">
															<i class="bi bi bi bi-file-earmark-pdf-fill btn btn-primary"></i>									
														</a>
														<a href="{{path('tcb_front_recipe_update', { 'slug' : recipe.slug})}}">
															<i class="bi bi-pencil btn btn-secondary"></i>
														</a>
														<a onclick="return confirm('Voulez vous supprimer ?')" href="{{path('tcb_front_recipe_delete', { 'slug' : recipe.slug})}}">
															<i class="bi bi-trash btn btn-danger"></i>
														</a>
													</td>
												</tr>
											{% endfor %}
										</tbody>
									</table>
								</div>
							</section>
					
						</div> #}

{% endblock %}
